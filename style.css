:root {
    --bg-dark: #0f172a; --sidebar-bg: #111827; --card-bg: rgba(30, 41, 59, 0.75);
    --text-main: #f8fafc; --text-muted: #94a3b8;
    --accent-yellow: #facc15; --accent-blue: #38bdf8; --accent-green: #4ade80; --accent-red: #ef4444;
}
[data-theme="light"] {
    --bg-dark: #f1f5f9; --sidebar-bg: #ffffff; --card-bg: rgba(255,255,255,0.9);
    --text-main: #1e293b; --text-muted: #64748b;
}

body { margin: 0; font-family: 'Inter', sans-serif; background: var(--bg-dark); color: var(--text-main); display: flex; height: 100vh; overflow: hidden; }

/* SIDEBAR */
.sidebar { width: 260px; background: var(--sidebar-bg); display: flex; flex-direction: column; border-right: 1px solid rgba(255,255,255,0.1); transition: 0.3s; z-index: 100; }
.brand { padding: 25px; font-family: 'Orbitron'; font-size: 1.2rem; font-weight: 700; color: var(--text-main); display: flex; align-items: center; gap: 10px; border-bottom: 1px solid rgba(255,255,255,0.05); }
.user-profile { padding: 20px; display: flex; align-items: center; gap: 15px; background: rgba(255,255,255,0.03); margin: 10px; border-radius: 10px; }
.avatar { width: 40px; height: 40px; background: var(--accent-blue); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #000; font-size: 1.2rem; }
.user-info h4 { margin: 0; font-size: 0.9rem; } .user-info small { color: var(--text-muted); font-size: 0.75rem; font-family: monospace; }

.nav-links { list-style: none; padding: 0 10px; flex: 1; overflow-y: auto; }
.nav-header { font-size: 0.7rem; color: var(--text-muted); padding: 15px 10px 5px; font-weight: bold; letter-spacing: 1px; }
.nav-links li { padding: 12px 15px; margin: 2px 0; border-radius: 8px; cursor: pointer; color: var(--text-muted); transition: 0.2s; display: flex; align-items: center; gap: 12px; font-size: 0.9rem; font-weight: 500; }
.nav-links li:hover, .nav-links li.active { background: rgba(56,189,248,0.1); color: var(--accent-blue); }
.submenu { padding-left: 20px; display: none; background: rgba(0,0,0,0.1); border-radius: 8px; margin-bottom: 5px; } .submenu.open { display: block; }
.arrow { margin-left: auto; font-size: 0.7rem; transition: 0.3s; } .has-submenu.open .arrow { transform: rotate(180deg); }

.sys-health { padding: 15px 20px; border-top: 1px solid rgba(255,255,255,0.05); display: flex; align-items: center; gap: 12px; }
.ping-dot { width: 8px; height: 8px; border-radius: 50%; background: #64748b; } .ping-dot.online { background: var(--accent-green); box-shadow: 0 0 8px var(--accent-green); }

/* CONTENT */
.content { flex: 1; padding: 20px; overflow-y: auto; position: relative; background: radial-gradient(circle at 90% 10%, rgba(56,189,248,0.05) 0%, transparent 40%); }
.top-bar { display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; }
.digital-clock { font-family: 'Orbitron'; font-size: 1.5rem; color: var(--accent-blue); font-weight: 700; }
.mobile-toggle { display: none; font-size: 1.5rem; cursor: pointer; }

/* CARDS */
.grid-container { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
.card { background: var(--card-bg); border: 1px solid rgba(255,255,255,0.1); border-radius: 16px; padding: 25px; backdrop-filter: blur(12px); transition: 0.3s; }
.main-card { grid-column: 1 / 2; text-align: center; position: relative; overflow: hidden; }
.chart-card { grid-column: 2 / 3; grid-row: 1 / 3; }
.stats-card { grid-column: 1 / 2; }

/* ANIMATED ALARM BG */
.card.alarm-active { border: 1px solid var(--accent-red); box-shadow: 0 0 20px rgba(239, 68, 68, 0.2); animation: shake 0.5s; }
@keyframes shake { 0%{transform: translateX(0)} 25%{transform: translateX(-5px)} 75%{transform: translateX(5px)} 100%{transform: translateX(0)} }

.card-header { display: flex; justify-content: space-between; color: var(--text-muted); margin-bottom: 10px; align-items: center; }
.live-indicator { font-size: 0.7rem; color: var(--accent-red); font-weight: bold; animation: blink 1s infinite; }
@keyframes blink { 50%{opacity:0.5} }

.gauge-display { display: flex; align-items: baseline; justify-content: center; margin: 10px 0; }
.temp-big { font-family: 'Orbitron'; font-size: 4.5rem; font-weight: 700; color: var(--accent-green); line-height: 1; }
.unit { font-size: 1.5rem; color: var(--text-muted); margin-left: 5px; }
.trend-indicator { font-size: 1.5rem; margin-left: 15px; }
.trend-up { color: var(--accent-red); } .trend-down { color: var(--accent-blue); } .flat { color: var(--text-muted); }

.status-pill { display: inline-block; padding: 6px 18px; border-radius: 30px; font-weight: bold; font-size: 0.9rem; margin-top: 10px; }
.status-ok { background: rgba(74, 222, 128, 0.15); color: var(--accent-green); border: 1px solid var(--accent-green); }
.status-alarm { background: rgba(239, 68, 68, 0.15); color: var(--accent-red); border: 1px solid var(--accent-red); }

.chart-wrapper { height: 320px; width: 100%; }
.stat-row { display: flex; justify-content: space-between; padding: 12px 0; border-bottom: 1px solid rgba(255,255,255,0.05); align-items: center; }
.val-small { font-family: 'Orbitron'; font-size: 1.4rem; }
.trend-small { font-size: 0.8rem; color: var(--text-muted); display: block; text-align: right; }

/* MAINTENANCE BAR */
.maintenance-box { margin-top: 20px; background: rgba(0,0,0,0.2); padding: 15px; border-radius: 10px; }
.progress-bar { height: 6px; background: #334155; border-radius: 3px; margin: 8px 0; overflow: hidden; }
.fill { height: 100%; background: var(--accent-yellow); border-radius: 3px; transition: width 1s; }
.maint-info { display: flex; justify-content: space-between; font-size: 0.75rem; font-weight: bold; }

/* SKELETON LOADING */
.skeleton { color: transparent; background: linear-gradient(90deg, #334155 25%, #475569 50%, #334155 75%); background-size: 200% 100%; animation: shimmer 1.5s infinite; border-radius: 8px; }
@keyframes shimmer { 0%{background-position: 200% 0} 100%{background-position: -200% 0} }

/* MODALS */
.login-overlay, .modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 999; display: flex; justify-content: center; align-items: center; backdrop-filter: blur(8px); }
.modal { display: none; }
.modal-content, .login-box { background: #1e293b; padding: 30px; border-radius: 16px; width: 90%; max-width: 400px; text-align: center; border: 1px solid var(--accent-yellow); box-shadow: 0 0 30px rgba(0,0,0,0.5); }
.login-box input, .modal input { width: 100%; padding: 12px; margin: 10px 0; background: #0f172a; border: 1px solid #334155; color: white; border-radius: 8px; box-sizing: border-box; }
.btn-login, .btn-save, .btn-opt { width: 100%; padding: 12px; background: var(--accent-yellow); color: #000; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; margin-top: 10px; transition: 0.2s; }
.btn-login:hover { transform: translateY(-2px); box-shadow: 0 5px 15px rgba(250, 204, 21, 0.3); }
.btn-cancel { background: transparent; color: var(--text-muted); border: 1px solid var(--text-muted); margin-top: 10px; width: 100%; padding: 10px; border-radius: 8px; cursor: pointer; }

/* KIOSK MODE */
body.kiosk-mode .sidebar { display: none; }
body.kiosk-mode .content { padding: 0; }
body.kiosk-mode .card { border-radius: 0; border: none; }

/* RESPONSIVE */
@media (max-width: 768px) {
    .sidebar { position: fixed; left: -100%; height: 100%; } .sidebar.open { left: 0; }
    .mobile-toggle { display: block; }
    .grid-container { grid-template-columns: 1fr; }
    .chart-card { grid-column: 1; }
}
